# レシートキャンペーンCMS サイトマップ

## 概要
レシートキャンペーンCMSは、管理者とクライアントがそれぞれ異なる権限でキャンペーンを管理できるシステムです。

## ページ構成

### 1. 共通ページ

#### 1.1 ログイン画面 (`index.html`)
- **URL**: `/`
- **説明**: システムのエントリーポイント
- **機能**:
  - 管理者ログイン
  - クライアントログイン（プロジェクトID + パスワード）
  - 認証処理
- **アクセス権限**: 未認証ユーザー

---

### 2. 管理者機能

#### 2.1 管理者ダッシュボード (`admin/dashboard.html`)
- **URL**: `/admin/dashboard.html`
- **説明**: 管理者のメイン画面
- **機能**:
  - 統計情報の表示（プロジェクト数、ユーザー数、公開中プロジェクト数）
  - プロジェクト管理へのナビゲーション
  - ユーザー管理へのナビゲーション
  - 新規プロジェクト作成
  - 最近のアクティビティ表示
- **アクセス権限**: 管理者のみ

#### 2.2 プロジェクト管理 (`admin/projects.html`)
- **URL**: `/admin/projects.html`
- **説明**: 全プロジェクトの管理画面
- **機能**:
  - プロジェクト一覧表示
  - プロジェクト検索・フィルター
  - プロジェクト作成・編集・削除
  - プロジェクト詳細表示
  - ページネーション
- **アクセス権限**: 管理者のみ

#### 2.3 ユーザー管理 (`admin/users.html`)
- **URL**: `/admin/users.html`
- **説明**: クライアントユーザーの管理画面
- **機能**:
  - ユーザー一覧表示
  - ユーザー検索・フィルター
  - ユーザー作成・編集・削除
  - 権限管理（管理者/クライアント）
  - ステータス管理（有効/無効）
- **アクセス権限**: 管理者のみ

---

### 3. クライアント機能

#### 3.1 プロジェクトセットアップ (`client/setup.html`)
- **URL**: `/client/setup.html`
- **説明**: キャンペーンの設定画面
- **機能**:
  - キャンペーン内容設定（タイトル、対象商品、期間など）
  - アンケート項目設定
  - レシートアップロード設定
  - 画像アップロード（メインビジュアル）
  - プレビュー機能
  - プロジェクト公開
- **アクセス権限**: クライアントのみ

#### 3.2 プレビュー機能 (`client/preview.html`)
- **URL**: `/client/preview.html`
- **説明**: キャンペーンのプレビュー画面
- **機能**:
  - キャンペーンページのプレビュー
  - フォームの動作確認
  - レスポンシブデザイン確認
- **アクセス権限**: クライアントのみ

#### 3.3 プロジェクト管理 (`client/manage.html`)
- **URL**: `/client/manage.html`
- **説明**: クライアント用のプロジェクト管理画面
- **機能**:
  - 応募データ一覧表示
  - 簡易抽選機能
  - CSVダウンロード
  - レシート画像一覧表示
  - 統計情報表示
- **アクセス権限**: クライアントのみ

---

### 4. キャンペーンページ（公開ページ）

#### 4.1 キャンペーントップページ (`campaign/top.html`)
- **URL**: `/campaign/top.html`
- **説明**: キャンペーンのメインページ
- **機能**:
  - メインビジュアル表示
  - キャンペーン内容表示
  - 応募ボタン
  - レスポンシブデザイン
- **アクセス権限**: 誰でもアクセス可能

#### 4.2 応募フォーム (`campaign/form.html`)
- **URL**: `/campaign/form.html`
- **説明**: アンケートとレシートアップロードフォーム
- **機能**:
  - 動的アンケートフォーム生成
  - レシートアップロード（最大20枚）
  - バリデーション
  - プログレスバー表示
- **アクセス権限**: 誰でもアクセス可能

#### 4.3 確認画面 (`campaign/confirm.html`)
- **URL**: `/campaign/confirm.html`
- **説明**: 応募内容の確認画面
- **機能**:
  - 入力内容の確認表示
  - レシートアップロード確認
  - 修正機能
  - 応募確定処理
- **アクセス権限**: 誰でもアクセス可能

#### 4.4 完了画面 (`campaign/complete.html`)
- **URL**: `/campaign/complete.html`
- **説明**: 応募完了画面
- **機能**:
  - 完了メッセージ表示
  - 応募番号生成
  - 今後の流れ説明
  - 印刷機能
- **アクセス権限**: 誰でもアクセス可能

---

## ナビゲーション構造

### 管理者ナビゲーション
```
ログイン → ダッシュボード
           ├── プロジェクト管理
           │   ├── プロジェクト一覧
           │   ├── 新規作成
           │   └── 編集・削除
           └── ユーザー管理
               ├── ユーザー一覧
               ├── 新規作成
               └── 編集・削除
```

### クライアントナビゲーション
```
ログイン → プロジェクトセットアップ
           ├── キャンペーン設定
           ├── フォーム設定
           ├── 画像設定
           ├── プレビュー
           ├── 公開
           └── プロジェクト管理
               ├── 応募データ一覧
               ├── 抽選機能
               └── CSVダウンロード
```

### キャンペーンフロー
```
トップページ → 応募フォーム → 確認画面 → 完了画面
```

---

## 技術仕様

### 認証・セッション管理
- **認証方式**: ローカルストレージベース
- **セッション管理**: ブラウザローカルストレージ
- **権限管理**: 管理者 / クライアント / 一般ユーザー

### データ管理
- **フロントエンド**: HTML + CSS + JavaScript
- **スタイリング**: Tailwind CSS
- **データ保存**: ローカルストレージ（デモ用）
- **画像処理**: ブラウザネイティブ機能

### レスポンシブ対応
- **デバイス**: デスクトップ、タブレット、スマートフォン
- **ブレークポイント**: Tailwind CSS標準
- **画像**: レスポンシブ画像対応

---

## セキュリティ考慮事項

### 現在の実装（デモ版）
- 認証はフロントエンドのみ
- データはローカルストレージに保存
- 画像はブラウザメモリに保存

### 本格運用時の改善点
- サーバーサイド認証の実装
- データベース連携
- ファイルアップロード機能の実装
- HTTPS通信の強制
- CSRF対策の実装
- XSS対策の強化 